Goldenfile
==========

Инструмент для проведения Golden file тестирования.

На устройстве хранятся файлы со входными данными и для каждого такого файла
хранится эталонный goldenfile.
Goldenfile запускает тестируемую программу, передавая ей каждый файл со входными
данными и сверает результат интерпретации с эталонным файлом.

FAQ
---

### Что такое Golden file тестирование ? ###

_Golden file тестирование_ -- метод тестирования, при котором выход программы
проверяется на совпадение с эталонным «золотым» выводом (goldenfile).

### У этого есть практическое применение ? ###

Данный метод тестирования приобретает особую актуальность в контексте разработки
компиляторов, трансляторов, интерпретаторов и других анализаторов
и преобразователей исходного кода.
Его применение обеспечивает полуавтоматическое охватывание тестами
ключевой логики программы, не требуя глубокого вмешательства в ее внутреннюю структуру.
Таким образом, эти тесты предоставляют эффективный механизм для поддержания
актуальности программного обеспечения и не приносят излишней сложности
в процесс рефакторинга.

Установка
---------

### Установка из удалённого Git-репозитория ###

Установка инструмента:

```shell
python3 -m pip install "git+https://github.com/Furetur/goldenfile.git"
```

### Установка из дистрибутива ###

Данный способ установки удобен в случаях, когда доступ к Git-репозиторию
отсутствует.

Сборка дистрибутива (distribution package):

```shell
poetry build
```

Собранный дистрибутив находится в файле `dist/goldenfile-${version}-py3-none-any.whl`,
где `${version}` -- версия утилиты.

Пример установки из дистрибутива:

```shell
python3 -m pip install ./dist/goldenfile-0.0.0-py3-none-any.whl
```

Разработка
----------

### Зависимости ###

* [pyenv](https://github.com/pyenv/pyenv)
* [Poetry](https://python-poetry.org/docs/#installing-with-the-official-installer)

### Окружение ###

```shell
pyenv install 3.11
pyenv local 3.11
poetry env use $(pyenv which python)
poetry install
```

Перейти в виртуальное окружение Poetry:

```shell
poetry shell
```

### Тесты ###

Запустить тесты:

```shell
pytest
```
